:root{
  --bg:#070b14;
  --panel:rgba(255,255,255,.06);
  --panel2:rgba(255,255,255,.04);
  --border:rgba(255,255,255,.12);
  --text:#eaf0ff;
  --muted:rgba(234,240,255,.72);

  --ok:rgba(35,210,135,.95);
  --warn:rgba(255,196,45,.95);
  --critical:rgba(255,80,80,.95);

  --shadow:0 12px 34px rgba(0,0,0,.40);
  --radius:18px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 15% 10%, rgba(42,107,255,.20), transparent 60%),
    radial-gradient(900px 600px at 85% 20%, rgba(35,210,135,.14), transparent 65%),
    radial-gradient(900px 700px at 60% 95%, rgba(255,80,80,.12), transparent 60%),
    var(--bg);
}

/* contenedor PC-first */
.sipark{
  max-width: 1680px;
  margin: 0 auto;
  padding: 14px;
  min-height: 100vh;
  display:flex;
  flex-direction:column;
}

.muted{color:var(--muted)}

/* HEADER */
.header{
  display:flex;
  justify-content:space-between;
  gap:14px;
  padding:14px;
  border-radius:var(--radius);
  background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
  border:1px solid var(--border);
  box-shadow:var(--shadow);
  backdrop-filter: blur(10px);
}

.brand{display:flex; gap:12px; align-items:center; min-width:0}
.logo{
  width:46px; height:46px;
  border-radius:14px;
  display:grid; place-items:center;
  font-weight:1000; font-size:18px;
  background: linear-gradient(135deg, rgba(42,107,255,.92), rgba(35,210,135,.85));
  box-shadow:0 10px 25px rgba(0,0,0,.25);
}

.brandText{min-width:0}
.brandTop{display:flex; align-items:center; gap:10px; flex-wrap:wrap}
h1{margin:0; font-size:22px}
.sub{
  margin-top:6px;
  color:var(--muted);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.sep{margin:0 8px; opacity:.7}

/* badges */
.badge{
  display:inline-flex;
  gap:8px;
  align-items:center;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.06);
  font-size:12px;
  font-weight:900;
}
.dot{width:8px; height:8px; border-radius:99px}
.badge.ok{border-color:rgba(35,210,135,.35)}
.badge.off{border-color:rgba(255,80,80,.35)}
.dot.ok{background:var(--ok); box-shadow:0 0 0 4px rgba(35,210,135,.15)}
.dot.off{background:var(--critical); box-shadow:0 0 0 4px rgba(255,80,80,.15)}
.badge.sev.ok{border-color:rgba(35,210,135,.45)}
.badge.sev.warn{border-color:rgba(255,196,45,.45)}
.badge.sev.critical{border-color:rgba(255,80,80,.45)}

/* quick stats */
.quick{display:flex; gap:10px; flex-wrap:wrap}
.q{
  padding:10px 12px;
  border-radius:14px;
  background:var(--panel2);
  border:1px solid var(--border);
  min-width:110px;
}
.qk{color:var(--muted); font-size:12px}
.qv{margin-top:4px; font-weight:1000; font-size:16px}
.qv.critical{color:var(--critical)}
.qv.warn{color:var(--warn)}
.qv.ok{color:var(--ok)}

/* LAYOUT PC-first: main + sidebar */
.layout{
  margin-top:12px;
  display:grid;
  grid-template-columns: 1.65fr 0.85fr; /* PC: main grande */
  gap:12px;
  flex:1;
  align-items:start;
}

.mainCol{display:grid; gap:12px}
.sideCol{display:grid; gap:12px}

/* panel */
.panel{
  background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:14px;
  box-shadow:var(--shadow);
  backdrop-filter: blur(10px);
}

.panelHead{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:14px;
  margin-bottom:10px;
}
.panel h2{margin:0; font-size:16px}

/* progress */
.progressBox{
  min-width:220px;
  padding:10px 12px;
  border-radius:14px;
  background:rgba(255,255,255,.04);
  border:1px solid var(--border);
}
.progressTop{display:flex; justify-content:space-between; align-items:baseline; gap:10px; font-size:12px}
.bar{
  margin-top:8px;
  height:10px;
  background:rgba(255,255,255,.08);
  border-radius:999px;
  overflow:hidden;
}
.fill{
  height:100%;
  border-radius:999px;
  background:linear-gradient(90deg, rgba(42,107,255,.95), rgba(35,210,135,.95));
}

/* SPACE GRID: que se adapte al # de cupos y se vea grande en PC */
.spaceGrid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap:10px;
  margin-top:10px;
}

.space{
  border-radius:16px;
  padding:12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.035);
  min-height: 92px;
}
.space.free{
  background:rgba(35,210,135,.10);
  border-color:rgba(35,210,135,.18);
}
.space.occ{
  background:rgba(255,80,80,.10);
  border-color:rgba(255,80,80,.18);
}

.spaceTop{display:flex; justify-content:space-between; align-items:center; gap:10px}
.spaceId{font-weight:1000; letter-spacing:.3px}
.pill{
  font-size:11px;
  font-weight:900;
  padding:5px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.12);
}
.pill.free{border-color:rgba(35,210,135,.22)}
.pill.occ{border-color:rgba(255,80,80,.22)}
.spaceCount{margin-top:10px; font-size:30px; font-weight:1000}

/* split: cámara + historial (PC se ve completo) */
.split{
  display:grid;
  grid-template-columns: 1.25fr 0.75fr;
  gap:12px;
}

.cameraBox{
  border-radius:16px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.25);
}
.cameraImg{
  width:100%;
  height: 360px;
  object-fit: cover;
  display:block;
}

/* Trend */
.trend{width:100%}
.trendSvg{
  width:100%;
  height:160px;
  display:block;
}
.gridLine{stroke:rgba(255,255,255,.08); stroke-width:1}
.lineFree{fill:none; stroke:rgba(35,210,135,.95); stroke-width:3}
.lineOcc{fill:none; stroke:rgba(255,80,80,.95); stroke-width:3}
.trendLegend{
  margin-top:10px;
  display:flex;
  gap:14px;
  flex-wrap:wrap;
  color:var(--muted);
  font-size:12px;
}
.sw{
  display:inline-block;
  width:12px; height:12px;
  border-radius:4px;
  margin-right:8px;
}
.sw.free{background:rgba(35,210,135,.95)}
.sw.occ{background:rgba(255,80,80,.95)}

/* sidebar metrics */
.metrics{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
  margin-top:10px;
}
.m{
  padding:12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.035);
}
.m.big{
  grid-column: 1 / -1;
  padding:16px;
}
.ml{color:var(--muted); font-weight:700}
.mv{margin-top:6px; font-weight:1000; font-size:26px}
.m.big .mv{font-size:52px}
.tone-critical .mv{color:var(--critical)}
.tone-warn .mv{color:var(--warn)}
.tone-ok .mv{color:var(--ok)}

/* detections */
.detList{display:grid; gap:10px; margin-top:10px}
.detItem{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:10px 12px;
  border-radius:14px;
  background:rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.10);
}
.detTitle{font-weight:1000}
.detSub{font-size:12px; margin-top:4px}
.tag{
  padding:6px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:900;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
}
.tag.ok{border-color:rgba(35,210,135,.25)}
.tag.off{border-color:rgba(255,80,80,.25)}

/* Debug collapsible */
details.panel{padding:0}
details.panel > summary{
  list-style:none;
  cursor:pointer;
  padding:14px;
}
details.panel > summary::-webkit-details-marker{display:none}
.details .json{padding:14px; margin:0}

/* JSON */
.json{
  margin:0;
  padding:12px;
  border-radius:14px;
  background:rgba(0,0,0,.28);
  border:1px solid rgba(255,255,255,.10);
  max-height:320px;
  overflow:auto;
  font-size:12px;
  line-height:1.35;
}

.empty{
  padding:16px;
  border-radius:16px;
  border:1px dashed rgba(255,255,255,.18);
  background:rgba(255,255,255,.03);
}

.footer{
  margin-top:12px;
  padding:10px 4px;
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:10px;
  color:var(--muted);
}

/* TABLET: sidebar baja abajo, split en 1 columna */
@media (max-width: 1100px){
  .layout{grid-template-columns: 1fr;}
  .split{grid-template-columns: 1fr;}
  .cameraImg{height: 320px;}
}

/* móvil: compacto (no es el foco, pero sirve) */
@media (max-width: 640px){
  .metrics{grid-template-columns: 1fr;}
  .sub{white-space:normal}
  .cameraImg{height: 240px;}
}
